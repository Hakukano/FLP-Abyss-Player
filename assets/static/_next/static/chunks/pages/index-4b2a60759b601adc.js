(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return a(3675)}])},3675:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return x}});var s=a(5893),l=a(7294),n=a(2004),i=a(1415),o=a(44);function r(e){let[t,a]=(0,l.useState)(""),[n,i]=(0,l.useState)(5),[r,c]=(0,l.useState)([]),[u,f]=(0,l.useState)(0),[h,d]=(0,l.useState)(!1),m=async(a,s)=>{d(!0);try{let l=await e.playlist.list({search:t,filter:[],offset:(a-1)*s,length:s});c(l.data),f(l.count)}finally{d(!1)}},x=e=>{m(e,n)},w=(e,t)=>{i(e),m(t,e)};return(0,l.useEffect)(()=>{m(1,n)},[]),(0,s.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,s.jsx)("input",{className:"w-full",type:"text",placeholder:"Press ENTER to search...",value:t,style:{color:"#222"},onChange:e=>a(e.target.value),onKeyDown:e=>{"Enter"===e.key&&m(1,n)}}),(0,s.jsx)(o.ZP,{columns:[{omit:!0,name:"ID",selector:e=>e.id},{name:"Full Path",selector:e=>e.path,button:!0,width:"100%",cell:t=>(0,s.jsx)("button",{onClick:async()=>{d(!0);try{let a=await e.playlist.read({id:t.id});e.setPlaylistData(a)}finally{d(!1)}},children:t.path})},{omit:!0,name:"MIME Type",selector:e=>e.mime_type}],data:r,progressPending:h,pagination:!0,paginationServer:!0,paginationPerPage:n,paginationTotalRows:u,paginationRowsPerPageOptions:[5,10,15,20],onChangeRowsPerPage:w,onChangePage:x})]})}var c=a(2913),u=a(7292),f=a(5073),h=a(682);function d(e){return(0,s.jsx)("nav",{className:"w-full bg-white border-gray-200 dark:bg-gray-900",style:{height:"5vh"},children:(0,s.jsxs)("div",{className:"h-full flex items-center justify-between p-1",children:[(0,s.jsx)(c.Z,{className:"h-full",onClick:()=>alert("aa")}),(0,s.jsx)(f.Z,{className:"h-full",onClick:()=>e.setShowPlaylistRemote(!e.showPlaylistRemote)}),(0,s.jsx)(h.Z,{className:"h-full",onClick:()=>alert("aa")}),(0,s.jsx)(u.Z,{className:"h-full",onClick:()=>alert("aa")})]})})}class m{async read(e){let t=await fetch("/playlists/".concat(e.id));if(t.ok)return await t.json();throw{status:t.status,message:await t.text()}}async list(e){let t=await fetch("/playlists?".concat(new URLSearchParams({filter:e.filter.join(","),search:e.search,offset:e.offset.toString(),length:e.length.toString()})));if(t.ok)return await t.json();throw{status:t.status,message:await t.text()}}}function x(){let e=new m,[t,a]=(0,l.useState)(null),[o,c]=(0,l.useState)(!1);return(0,s.jsxs)("main",{className:"flex flex-col w-full h-full items-center justify-between p-2 space-y-2",children:[(0,s.jsx)(d,{showPlaylistRemote:o,setShowPlaylistRemote:c}),(0,s.jsx)("div",{className:"w-full h-full",children:t?t.mime_type.startsWith("image/")?(0,s.jsx)(s.Fragment,{}):(0,s.jsx)(n.Z,{width:"100%",height:"88vh",url:"/playlists/".concat(t.id,"/stream"),controls:!0}):(0,s.jsx)(s.Fragment,{})}),o?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"absolute justify-center items-center overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none",children:(0,s.jsx)("div",{className:"relative w-auto my-6 mx-auto max-w-3xl",children:(0,s.jsxs)("div",{className:"border-0 rounded-lg shadow-lg relative flex flex-col w-full bg-white outline-none focus:outline-none",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between p-1 border-b border-solid border-slate-200 rounded-t",children:[(0,s.jsx)("h3",{className:"text-2xl text-black font-semibold",children:"Remote Playlist"}),(0,s.jsx)(i.Z,{className:"h-8 p-1 ml-auto bg-transparent border-0 text-black float-right text-3xl leading-none font-semibold outline-none focus:outline-none",onClick:()=>c(!1)})]}),(0,s.jsx)("div",{className:"relative p-2 flex-auto",children:(0,s.jsx)(r,{playlist:e,setPlaylistData:a})})]})})}),(0,s.jsx)("div",{className:"opacity-25 fixed inset-0 z-40 bg-black"})]}):(0,s.jsx)(s.Fragment,{})]})}}},function(e){e.O(0,[571,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);